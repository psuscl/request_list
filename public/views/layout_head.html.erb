<link href="<%= "/assets/request_list.css" %>" media="all" rel="stylesheet" type="text/css">
<%= javascript_include_tag "js.cookie" %>
<%= javascript_include_tag "request_list" %>

<script>
  $(function() {

    var request_list = new RequestList(<%= AppConfig[:request_list][:item_limit] || 50 %>);
    window.request_list = request_list;

    $('body').append('<%=j render partial: 'shared/modal', locals: {:modal_id => 'rl-alert-modal',
                                                  :title => '',
                                                  :modal_body => (render partial: 'request_list/alert_modal')} %>');

    $('#rl-alert-modal').find('.action-btn').html("<%= t('plugin.request_list.ok_button_label') %>");
  });

  HARVARD_AEON_MESSAGES = {
    'empty_list_error_message': "<%= t('plugin.request_list.empty_list_error_message').gsub('"', '\"').html_safe %>",
    'unfilled_fields_error_message': "<%= t('plugin.request_list.unfilled_fields_error_message').gsub('"', '\"').html_safe %>",
    'full_list_error_message': "<%= t('plugin.request_list.full_list_error_message').gsub('"', '\"').html_safe %>"
  };

  SHOW_BUILTIN_REQUEST_BUTTON_FOR_HANDLED_REPOSITORIES = <%= AppConfig[:request_list].has_key?(:show_builtin_request_button_for_handled_repositories) && AppConfig[:request_list][:show_builtin_request_button_for_handled_repositories] %>
</script>

<% if defined?(@result) && @result.respond_to?(:resolved_repository) && RequestList.handler_config_for(@result) %>
  <meta name="rl-handler-defined" content="true"/>
<% end %>
